# Environment Configuration
# Copy this file to .env and fill in the values

# Environment: dev, staging, prod
ENVIRONMENT=dev

# Database Configuration
# Options: duckdb (local), databricks (production)
DATABASE_TYPE=duckdb

# DuckDB Configuration (for local development)
DUCKDB_PATH=data/duckdb/lending_club.duckdb

# DBT Configuration
# Options: dev (DuckDB), prod (Databricks)
DBT_TARGET=dev

# Snapshot Configuration
# Target schema for snapshot tables (SCD2 historical tracking)
SNAPSHOT_TARGET_SCHEMA=snapshots
# Snapshot strategy: timestamp (uses updated_at column) or check (compares all columns)
SNAPSHOT_STRATEGY=timestamp
# Column name for timestamp strategy (must exist in source data)
SNAPSHOT_UPDATED_AT_COLUMN=loaded_at
# Whether to invalidate records when they are deleted from source
SNAPSHOT_INVALIDATE_HARD_DELETES=true

# Incremental Model Configuration
# Strategy for incremental models: merge (update+insert) or append (insert only)
INCREMENTAL_STRATEGY=merge
# Behavior when schema changes: fail, append_new_columns, or sync_all_columns
ON_SCHEMA_CHANGE=fail
# Lookback window in days for late-arriving data (default: 3)
INCREMENTAL_LOOKBACK_DAYS=3

# Data Quality Configuration
# Enable data quality monitoring and reporting
DATA_QUALITY_ENABLED=true
# Directory for quality reports
DATA_QUALITY_REPORT_PATH=data/quality_reports
# Test severity levels: error (fail pipeline) or warn (log only)
DATA_QUALITY_DEFAULT_SEVERITY=error
# Enable quality alerts (requires notification configuration)
DATA_QUALITY_ALERTS_ENABLED=false

# Output Configuration
OUTPUT_PATH=data/outputs

# Databricks Configuration (for production only)
# Uncomment and fill in when deploying to production
# DATABRICKS_HOST=your-workspace.cloud.databricks.com
# DATABRICKS_TOKEN=your-access-token
# DATABRICKS_CATALOG=your-catalog
# DATABRICKS_SCHEMA=your-schema
# DATABRICKS_HTTP_PATH=/sql/1.0/warehouses/your-warehouse-id

# Dagster Configuration
DAGSTER_HOME=./dagster_home

# Notification Configuration (Optional)
# Uncomment to enable Slack notifications for data quality alerts
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
# SLACK_CHANNEL=#data-quality
# SLACK_USERNAME=Data Quality Bot

# Email Configuration (Optional)
# Uncomment to enable email notifications for data quality alerts
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@example.com
# SMTP_PASSWORD=your-app-password
# ALERT_EMAIL_FROM=data-pipeline@example.com
# ALERT_EMAIL_TO=data-team@example.com

# Logging Configuration
LOG_LEVEL=INFO
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json
# Options: json, text
